## 1.1 何谓 API？ What is an API?

在美国国家航空航天局（即 `NASA`）1969 年出版的一份名为《计算机程序摘要》（*Computer Program Abstracts*）的出版物中，有一则关于 IBM 出售的实时显示控制程序的广告摘要是这么说的：只要 310 美元！外加 36 美元附赠精美文档。广告上还说，它是专为操作员级应用程序（operator-application）设计的编程接口，换句话说，它就是一个 API。

**应用程序编程接口（API）**的历史可以与计算机代码的发展史一样悠久。从概念上讲，它只是两种不同的代码（或者是人类与某些代码）之间彼此交互的一种方式。我们说一个类（class）拥有一套 API，是说它具备了某些公共方法，其他代码可以调用；而一个脚本（script）拥有一套 API，则表示它能接受特定类型的输入（input）；甚至是一个计算机上的驱动程序也能拥有一套 API，只要规定其他程序按照特定的某种方式进行调用即可。

然而，随着互联网的发展，***API*** 一词的关注范围也在逐渐缩小。现在，当人们谈论 API 时，几乎都是在谈论 Web API —— 本书也将在这样的语境中展开相关介绍。Web API 将两个事物间的接口的概念，推广应用到互联网所构建的“客户端/服务器”关系中。在一个典型的 Web API 模型中，客户端在接口的这一边发送请求；而服务端（一台或多台服务器）则在接口的另一边响应该请求。

随着时间的推移，互联网不断发展演化，Web API 也随之不断演进。许多早期的 Web API 都是为企业量身定制的，对于接口双方如何交互有着严格的规定。一种名为 **简单对象访问协议（Simple Object Access Protocol，即 SOAP）** 的 API 应运而生。然而，就在本世纪初，互联网开始转为以消费者为基础，一些电子商务网站（如 eBay 和亚马逊）开始发布更加公开与灵活的 API。随后，Twitter、Facebook 等许多知名社交媒体网站也纷纷发布各自的 API，其中大部分都是基于一种名为 **表现层状态转换（Representational State Transfer，即 REST）** 的模式构建而成的。

这种方法比 SOAP 更为灵活，可以直接在互联网的基础协议上进行构建。

但互联网仍在不断变化，随着移动端应用与网站的普及，API 的重要性也日渐凸显。一些公司面临着在移动设备上传输大量数据的挑战，为此 Facebook 专门创建了一种名为 `GraphQL` 的 API。这种类型的 API 定义了一种查询语言（query language），有助于减少传输的数据量，同时也为 API 引入了一种稍显严格的结构。这些不同类型的 API 在某些情况下都能很好地发挥作用，本章将在最后一节进行介绍。不过，在详细介绍每种类型的 API 之前，首先要了解支撑所有 Web API 调用的一些基本概念。