# ç¬¬ä¹ç«  åœ¨å‘½ä»¤è¡Œç”¨ Newman å®ç°æ¥å£æµ‹è¯•

---

> **æœ¬ç« æ¦‚è¦**
>
> - `Newman` çš„ç”¨æ³•
> - ç†è§£ `Newman` è¿è¡Œçš„é…ç½®å‚æ•°
> - `Newman` æµ‹è¯•æŠ¥å‘Šçš„é…ç½®
> - å°† `Newman` é›†æˆåˆ° CI/CD å·¥ä½œæµçš„æ–¹æ³•

æœ¬ç« ç¤ºä¾‹ä»£ç ä½ç½®ï¼š`https://github.com/PacktPublishing/API-Testing-and-Development-with-Postman-Second-Edition/tree/master/Chapter09`ã€‚



## 9.1 Newman çš„å®‰è£…ä¸å¯åŠ¨

ä¸åœ¨ç†Ÿæ‚‰çš„ `Postman` å®¢æˆ·ç«¯åšæ¥å£æµ‹è¯•ä¸åŒï¼Œ`Newman` å¯ä»¥åœ¨å‘½ä»¤è¡Œç¯å¢ƒè½»æ¾å®ç°ç»å¤§éƒ¨åˆ†æ¥å£æµ‹è¯•ã€‚å®æµ‹å‘ç°ï¼Œåœ¨ `Newman` ä¸­è¿è¡Œç±»ä¼¼ `Collection Runner` çš„é›†åˆæµ‹è¯•å¹¶ä¸ä¼šæ‰£å‡æ¯æœˆå…è´¹é¢åº¦ã€‚åŠ ä¹‹ `Newman` åœ¨ `npm` ç¤¾åŒºçš„åŠŸèƒ½ä¸æ–­å®Œå–„ï¼Œå¯ä»¥è½»æ¾é«˜æ•ˆåœ°å®Œæˆå¾ˆå¤šæµ‹è¯•ä»»åŠ¡ã€‚

`Newman` çš„å®‰è£…åªéœ€ä¸€æ­¥ï¼ˆå‰ææ˜¯å…ˆè£…å¥½ `Node.js`ï¼‰ï¼š

```bash
npm i -g newman
```

è¿™é‡Œé‡‡ç”¨å…¨å±€å®‰è£…ï¼Œä¸»è¦æ˜¯è®© `newman` èƒ½åƒ `npm` é‚£æ ·ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œã€‚



> [!tip]
>
> å…¨å±€å®‰è£…çš„ `npm` ä¾èµ–é¡¹ï¼Œå…¶é»˜è®¤è·¯å¾„é€šå¸¸åœ¨ç³»ç»Ÿç›˜ `C` ç›˜ï¼Œå¦‚æœåæœŸæ— éœ€ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘å¸è½½ï¼š
>
> ```bash
> npm uninstall -g newman
> ```
>
> ç¡®è®¤æ˜¯å¦åˆ é™¤æˆåŠŸï¼Œå¯ä»¥æ‰¾åˆ°å¯¹åº”çš„å®‰è£…è·¯å¾„ï¼š
>
> ```bash
> npm root -g
> ```
>
> è‹¥è¦æŸ¥çœ‹æŸä¸ªå…·ä½“çš„å…¨å±€ä¾èµ–åŒ…çš„è·¯å¾„ï¼š
>
> ```bash
> npm list -g --depth=0
> ```



`Newman` æ˜¯é€šè¿‡å¯¼å‡ºçš„é›†åˆ `JSON` æ–‡ä»¶è¿›è¡Œæµ‹è¯•çš„ï¼Œå‘½ä»¤æ ¼å¼ä¸ºï¼š

```shell
# Syntax: newman run <collection> [options]
newman run path/to/your/collection/JSON/file.json
```

è‹¥è¯¥é›†åˆå¸¦æœ‰æŸä¸ªç¯å¢ƒï¼Œåˆ™éœ€å¯¼å‡ºè¯¥ç¯å¢ƒ `JSON` æ–‡ä»¶ï¼Œå¹¶ç”¨å‚æ•° `-e` è¿›è¡ŒæŒ‡å®šï¼š

```markdown
newman run path/to/your/collection/JSON/file.json -e path/to/your/environment/JSON/file.json
```

è‹¥è¯¥é›†åˆè¿˜æ¶‰åŠä¸Šä¼  CSV æ–‡ä»¶çš„æ•°æ®é©±åŠ¨æµ‹è¯•ï¼Œåˆ™éœ€è¦ä½¿ç”¨ `-d` å‚æ•°æŒ‡å®šï¼š

```markdown
newman run path/to/your/collection/file.json -e path/to/your/environment/file.json -d path/to/your/CSV/file.csv
```

æ­¤å¤–ï¼Œå¯¹äºé›†åˆä¸­ç¼ºå¤±çš„ä¸€ä¸¤ä¸ªç¯å¢ƒå˜é‡ï¼Œä¹Ÿå¯ä»¥ç”¨ `--env-var` å‚æ•°æ‰‹åŠ¨å®šä¹‰ï¼Œä¸å¿…å¯¼å‡ºç¯å¢ƒ `JSON` æ–‡ä»¶ï¼š

```bash
newman run path/to/your/collection/file.json --env-var "param1=value1"
```

å¦å¤–ï¼Œå¦‚æœç¼ºäº†ä¸¤ä¸ªå‚æ•°ï¼Œåˆ™è¦å†™ä¸¤æ¬¡ `--env-var`ï¼š

```bash
newman run path/to/your/collection/file.json --env-var "param1=value1" --env-var "param2=value2"
```



### å®æµ‹1ï¼šå¸¦ä¸¤ä¸ªå˜é‡çš„æµ‹è¯•é›†åˆ

```bash
# URL: {{base_url}}/{{param}}?test=true
# collection: TestCollection.json
newman run TestCollection.json --env-var "base_url=https://postman-echo.com/" --env-var "param=get"

newman

Newman Test

â†’ Test GET
  GET https://postman-echo.com/get?test=true [200 OK, 247B, 1111ms]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚            executed â”‚              failed â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              iterations â”‚                   1 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                requests â”‚                   1 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            test-scripts â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      prerequest-scripts â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              assertions â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total run duration: 1195ms                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total data received: 0B (approx)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ average response time: 1111ms [min: 1111ms, max: 1111ms, s.d.: 0Âµs] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```



### å®æµ‹2ï¼šå¸¦ç¯å¢ƒ JSON å’Œ CSV æ˜ å°„æ–‡ä»¶çš„æµ‹è¯•é›†åˆ

å…ˆåœ¨ `Postman` ä¸­æ–°å»ºä¸€ä¸ªæµ‹è¯•é›†åˆ `Newman Test`ï¼Œå¹¶åœ¨è¯¥é›†åˆä¸‹æ–°å»ºæµ‹è¯• GET è¯·æ±‚ `Test GET`ï¼Œ`URL` ä¸ºï¼š`{{base_url}}/get?{{queryParam}}={{queryParamVal}}`ï¼›ç„¶åå¯¼å‡º `JSON` æ–‡ä»¶å¤‡ç”¨ï¼š`TestCollection.json`ã€‚

å†æ–°å»ºæµ‹è¯•ç¯å¢ƒ `Newman Test Env`ï¼Œå¹¶å®šä¹‰å˜é‡ `base_url` çš„å€¼ä¸º `https://postman-echo.com`ï¼›ç„¶åå¯¼å‡º `JSON` æ–‡ä»¶å¤‡ç”¨ï¼š`NewmanTestEnvironment.json`ã€‚

æ‰§è¡Œä¸‹åˆ— `PowerShell` å‘½ä»¤ï¼Œåœ¨æ¡Œé¢ä¸Šç”Ÿæˆä¸€ä¸ªç¤ºä¾‹ `CSV` æ–‡ä»¶ `DataDrivenInput.csv`ï¼š

```powershell
$csvPath = '~/Desktop/DataDrivenInput.csv'
$data = @(@{queryParam="test"; queryParamVal="true"},@{queryParam="query"; queryParamVal="1"})
$data | Export-Csv -Path $csvPath -NoTypeInformation
```

ç”¨ `newman` è¿›è¡Œå¸¦ç¯å¢ƒå‚æ•°çš„æ•°æ®é©±åŠ¨æµ‹è¯•ï¼š

```bash
> (pwd).Path
C:\Users\ad\Desktop
> newman run TestCollection.json -e NewmanTestEnvironment.json -d DataDrivenInput.csv
newman
                                                           Newman Test

Iteration 1/2

â†’ Test GET
  GET https://postman-echo.com/get?test=true [200 OK, 873B, 2.4s]

Iteration 2/2

â†’ Test GET
  GET https://postman-echo.com/get?query=1 [200 OK, 979B, 254ms]

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚            executed â”‚              failed â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              iterations â”‚                   2 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                requests â”‚                   2 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            test-scripts â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      prerequest-scripts â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              assertions â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total run duration: 2.8s                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total data received: 1.19kB (approx)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ average response time: 1331ms [min: 254ms, max: 2.4s, s.d.: 1077ms] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```



## 9.2 Newman çš„å…¶ä»–è¿è¡Œé…ç½®å‚æ•°

æŸ¥çœ‹ `newman` å†…ç½®å¸®åŠ©æ–‡æ¡£ï¼š

```bash
newman run -h
```

å¯¹åº”çš„å®˜æ–¹ [GitHub](https://github.com/postmanlabs/newman#command-line-options) æ–‡æ¡£ä½ç½®ï¼š`https://github.com/postmanlabs/newman#command-line-options`

è¿™é‡Œå¼ºè°ƒå¦‚ä¸‹å‚æ•°ï¼š

- é™å®šèŒƒå›´ï¼š
  - `--folder`ï¼šç”¨äºæŒ‡å®šåœ¨ Postman é›†åˆä¸­è¦è¿è¡Œçš„ç‰¹å®šæ–‡ä»¶å¤¹ã€‚è¿™æ ·å¯ä»¥åªè¿è¡Œé›†åˆä¸­çš„æŸä¸ªéƒ¨åˆ†ï¼Œè€Œä¸æ˜¯æ•´ä¸ªé›†åˆï¼Œä¾‹å¦‚ï¼š`newman run MyCollection.json --folder "User Tests"`
- å»¶è¿Ÿã€è¶…æ—¶ç›¸å…³ï¼š
  - `--delay-request`ï¼šç”¨äºåœ¨æ¯ä¸ªè¯·æ±‚ä¹‹é—´å¼•å…¥å»¶è¿Ÿï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚è¿™åœ¨è¿›è¡Œè´Ÿè½½æµ‹è¯•æˆ–å½“è¯·æ±‚éœ€è¦ä¸€å®šæ—¶é—´é—´éš”æ—¶éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼š`newman run MyCollection.json --delay-request 2000`
  - `--timeout`ï¼šç”¨äºè®¾ç½®æ•´ä¸ªè¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚å¦‚æœè¯·æ±‚åœ¨æŒ‡å®šæ—¶é—´å†…æœªå®Œæˆï¼ŒNewman å°†ç»ˆæ­¢è¯¥è¯·æ±‚ã€‚å¦‚ï¼š`newman run MyCollection.json --timeout 5000`
  - `--timeout-request`ï¼šç”¨äºè®¾ç½®å•ä¸ªè¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚è¿™ä¸ `--timeout` ç›¸ä¼¼ï¼Œä½†ä»…é€‚ç”¨äºæ¯ä¸ªè¯·æ±‚ã€‚å¦‚ï¼š`newman run MyCollection.json --timeout-request 3000`
  - `--timeout-script`ï¼šç”¨äºè®¾ç½®è„šæœ¬æ‰§è¡Œçš„è¶…æ—¶æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ã€‚å¦‚æœè„šæœ¬åœ¨æŒ‡å®šæ—¶é—´å†…æœªå®Œæˆï¼ŒNewman å°†ç»ˆæ­¢è¯¥è„šæœ¬æ‰§è¡Œã€‚å¦‚ï¼š`newman run MyCollection.json --timeout-script 2000`
- æµ‹è¯•å¤±è´¥ç›¸å…³ï¼š
  - `--bail`ï¼šç”¨äºåœ¨æµ‹è¯•æ‰§è¡Œä¸­é‡åˆ°ç¬¬ä¸€ä¸ªå¤±è´¥çš„è¯·æ±‚æ—¶ï¼Œç«‹å³åœæ­¢åç»­æµ‹è¯•ã€‚è¿™åœ¨è°ƒè¯•å’Œå¿«é€Ÿåé¦ˆæ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥é¿å…æµªè´¹æ—¶é—´åœ¨åç»­çš„æ— æ•ˆè¯·æ±‚ä¸Šã€‚ä¾‹å¦‚ï¼š`newman run MyCollection.json --bail`
- åè®®ç›¸å…³ï¼š
  - `-k`ï¼šç”¨äºåœ¨è¯·æ±‚ä¸­å¿½ç•¥ SSL è¯ä¹¦é”™è¯¯ã€‚è¿™ä¸ªå‚æ•°å¯ä»¥åœ¨ä½ ä¸è‡ªç­¾åè¯ä¹¦çš„æœåŠ¡å™¨äº¤äº’æ—¶éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼š`newman run MyCollection.json -k`ã€‚
- é‡å®šå‘ç›¸å…³ï¼š
  - `--ignore-redirects`ï¼šç”¨äºæ§åˆ¶è¯·æ±‚æ˜¯å¦è·Ÿéš HTTP é‡å®šå‘ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒNewman ä¼šè‡ªåŠ¨è·Ÿéšé‡å®šå‘ï¼Œä½†ä½¿ç”¨æ­¤å‚æ•°å¯ä»¥é€‰æ‹©ä¸è·Ÿéšï¼Œä»è€Œå…è®¸ä½ æ‰‹åŠ¨å¤„ç†é‡å®šå‘å“åº”ã€‚ä¾‹å¦‚ï¼š`newman run MyCollection.json --ignore-redirects`



## 9.3 Newman æµ‹è¯•æŠ¥è¡¨çš„é…ç½®

### 9.3.1 å†…ç½®æŠ¥è¡¨çš„é…ç½®

`Newman` æ”¯æŒå››ç±»å†…ç½®æŠ¥è¡¨ï¼Œå¹¶é€šè¿‡ `-r` å‚æ•°è¿›è¡Œè®¾ç½®ï¼ˆé»˜è®¤æŒ‰å‘½ä»¤è¡Œè¾“å‡ºæŠ¥è¡¨ï¼Œå³ `cli`ï¼‰ï¼š

- `json`ï¼šå¯¼å‡ºä¸€ä¸ª `JSON` æ–‡ä»¶ï¼Œé»˜è®¤æ”¾åˆ°å½“å‰è·¯å¾„ä¸‹çš„ `newman` æ–‡ä»¶å¤¹ï¼›
- `junit`ï¼šå¯¼å‡ºä¸€ä¸ªé€‚é… `JUnit` æ¡†æ¶çš„ `XML` æ–‡ä»¶ï¼›
- `progress`ï¼šå¯åœ¨æµ‹è¯•æŠ¥å‘Šä¸­æ˜¾ç¤ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„è¿›åº¦æ¡ï¼›
- `emojitrain`ï¼šä»¥è¡¨æƒ…ç¬¦å·æ¥è¡¨ç¤ºå„ç”¨ä¾‹çš„æœ€ç»ˆçŠ¶æ€ï¼Œç”¨å¾—ä¸å¤šã€‚

å®æµ‹ `cli` + `emojitrain` è¿è¡Œå¯¼å‡ºçš„ç¤ºä¾‹é›†åˆ `Newman Test` [^1]ï¼š

```powershell
> newman run TestCollection.json -e NewmanTestEnvironment.json -d DataDrivenInput.csv -r 'cli,emojitrain'
newman: cli, emojitrain reporters might not work well together.
newman

Newman Test

Iteration 1/2

â†’ Test GET
  GET https://postman-echo.com/get?test=true [200 OK, 871B, 1404ms]
ğŸ˜€
Iteration 2/2

â†’ Test GET
  GET https://postman-echo.com/get?query=1 [200 OK, 981B, 254ms]
ğŸ˜€
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚            executed â”‚              failed â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              iterations â”‚                   2 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                requests â”‚                   2 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            test-scripts â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      prerequest-scripts â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              assertions â”‚                   0 â”‚                   0 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total run duration: 1824ms                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ total data received: 1.19kB (approx)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ average response time: 829ms [min: 254ms, max: 1404ms, s.d.: 575ms] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 ğŸ˜
```

ä»…ç”¨è¡¨æƒ…ç¬¦å·è¾“å‡ºæµ‹è¯•ç»“æœï¼š

```powershell
> newman run TestCollection.json -e NewmanTestEnvironment.json -d DataDrivenInput.csv -r 'emojitrain'
ğŸ˜€ ğŸ˜€  ğŸ˜
```

åŒæ—¶ï¼Œé’ˆå¯¹ä¸åŒçš„æŠ¥è¡¨é…ç½®ï¼Œè¿˜å¯ä»¥ä½œè¿›ä¸€æ­¥å®šåˆ¶ã€‚ä¾‹å¦‚ï¼š

è®¾ç½®åœ¨è¿è¡Œæ—¶å…³é—­æˆåŠŸæ–­è¨€çš„è¾“å‡ºï¼Œå†™ä½œï¼š`-r cli --reporter-cli-no-success-assertions`ï¼›

è¦å°† `JUnit` æŠ¥è¡¨å­˜åˆ°åä¸º `reports` çš„æ–‡ä»¶å¤¹ä¸­ï¼Œå†™ä½œï¼š`-r junit --reporter-junit-export reports`ï¼›

æ›´å¤šé…ç½®ï¼Œè¯¦è§ [GitHub å®˜æ–¹æ–‡æ¡£](https://github.com/postmanlabs/newman#reporters)ã€‚

> [!tip]
>
> **DIY æ‹“å±•**
>
> `Newman` è¿˜å¯ä»¥é€šè¿‡ `Node.js` æ¨¡å—çš„æ–¹å¼é›†æˆåˆ°å‰ç«¯ `JavaScript` é¡¹ç›®ä¸­ï¼š
>
> ```js
> // index.js
> const newman = require("newman");
> 
> newman.run(
>   {
>     collection: require("./TestCollection.json"),
>     environment: require("./Newman Test Env.json"),
>     iterationData: "./DataDrivenInput.csv",
>     reporters: ['emojitrain', 'progress'],
>   },
>   function (err) {
>     if (err) {
>       throw err;
>     }
>     console.log("collection run complete!");
>   }
> );
> ```
>
> ç„¶ååˆ›å»º `start` è„šæœ¬ï¼š
>
> ```json
> {
>   "scripts": {
>     "start": "node index.js"
>   },
>   "dependencies": {
>     "newman": "^6.2.1"
>   }
> }
> ```
>
> æœ€åé€šè¿‡ `npm start` å¯åŠ¨æµ‹è¯•ï¼š
>
> ```bash
> $ npm start
> 
> > start
> > node index.js
> 
> newman: emojitrain, progress reporters might not work well together.
> progress [========================================] 100% | ETA: 0s | 2/2 ğŸ˜
> 
> collection run complete!
> ```



### 9.3.2 ç¬¬ä¸‰æ–¹æŠ¥è¡¨çš„é…ç½®

ä»¥ `htmlextra` ä¸ºä¾‹ï¼ŒæŒ‰å‘½ä»¤è¡Œæ¨¡å¼è¿è¡Œï¼š

```bash
# å…¨å±€å®‰è£… htmlextra æŠ¥è¡¨ä¾èµ–
> npm i -g newman-reporter-htmlextra
# è¿è¡Œæµ‹è¯•
> newman run TestCollection.json -e NewmanTestEnvironment.json -d DataDrivenInput.csv â€“r htmlextra
> 
```

æ­¤æ—¶ä¼šåœ¨æ¡Œé¢è‡ªåŠ¨åˆ›å»ºä¸€ä¸ª `newman` æ–‡ä»¶å¤¹ï¼Œé‡Œé¢åˆåˆšç”Ÿæˆçš„ç½‘é¡µæ ¼å¼çš„æµ‹è¯•æŠ¥è¡¨ï¼Œç¡®å®æ¯”å®˜æ–¹é»˜è®¤çš„æ’ä»¶ç²¾ç¾å¾ˆå¤šï¼š

![](assets/9.1.png)

**å›¾ 9.1 ä½¿ç”¨ Postman ç¬¬ä¸‰æ–¹æŠ¥è¡¨æ’ä»¶ htmlextra ç”Ÿæˆçš„æµ‹è¯•æŠ¥å‘Šé¡µæ•ˆæœå›¾**

ä½†æ˜¯å¯¹äº `htmlextra` çš„æ·±åº¦å®šåˆ¶ï¼Œå‘½ä»¤è¡Œå°±å¾ˆä¸æ–¹ä¾¿äº†ã€‚æ­¤æ—¶å¯ä»¥å€ŸåŠ© `Node` æ¨¡å—ï¼Œé…åˆ `htmlextra` æ’ä»¶ [æ–‡æ¡£](https://github.com/DannyDainton/newman-reporter-htmlextra) è½»æ¾å®ç°å„ç§å®šåˆ¶ï¼ˆè€Œä¸”è¿˜ä¸ç”¨å…¨å±€å®‰è£…ï¼Œè·Ÿéšé¡¹ç›®å®‰è£…å³å¯ï¼‰ï¼š

![](assets/9.2.png)

**å›¾ 9.2 åœ¨å‰ç«¯é¡¹ç›®ä¸­é€šè¿‡ node æ¨¡å—è¿›è¡Œç¬¬ä¸‰æ–¹æ’ä»¶çš„æ·±åº¦å®šåˆ¶**

è¿™æ˜¯æœ€åç”Ÿæˆçš„ä¸åŒç±»å‹çš„æŠ¥è¡¨æ–‡ä»¶ï¼š

![](assets/9.3.png)

**å›¾ 9.3 é€šè¿‡è¿è¡Œ npm è„šæœ¬å®ç°ä¸¤ä¸ªä¸åŒç±»å‹æŠ¥è¡¨æ’ä»¶ junit å’Œ htmlextra çš„è‡ªå®šä¹‰å¯¼å‡º**



### 9.3.3 è‡ªå®šä¹‰æŠ¥è¡¨æ¨¡å—çš„é…ç½®

æ²¡æƒ³åˆ°æŠ¥è¡¨è¿™éƒ¨åˆ†è®²å¾—è¿™ä¹ˆç»†ï¼Œæœ€åè¿˜ç»™å‡ºäº†è‡ªå®šä¹‰æŠ¥è¡¨æ’ä»¶çš„æ„å»ºæ–¹æ³•ã€‚åªæ˜¯æœ‰äº›å†…å®¹è¿‡äºåŸºç¡€ï¼Œéœ€è¦ç®€åŒ–ä¸€ä¸‹ã€‚

å‡†å¤‡å·¥ä½œï¼š

1. æµ‹è¯•é›†åˆ `JSON` æ–‡ä»¶ `TestCollection.json`ï¼š

```json
{
	"info": {
		"_postman_id": "27fab226-d194-44c2-9303-b275365ecd1b",
		"name": "Newman Test",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "39815626"
	},
	"item": [
		{
			"name": "Test GET",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/get?{{queryParam}}={{queryParamVal}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"get"
					],
					"query": [
						{
							"key": "{{queryParam}}",
							"value": "{{queryParamVal}}"
						}
					]
				}
			},
			"response": []
		}
	]
}
```

2. æµ‹è¯•ç¯å¢ƒ `JSON` æ–‡ä»¶ `NewmanTestEnvironment.json`ï¼š

```json
{
	"id": "aad1b6f5-5908-4d16-a77c-61716b70040f",
	"name": "Newman Test Env",
	"values": [
		{
			"key": "base_url",
			"value": "https://postman-echo.com",
			"type": "default",
			"enabled": true
		}
	],
	"_postman_variable_scope": "environment",
	"_postman_exported_at": "2025-01-26T16:27:32.087Z",
	"_postman_exported_using": "Postman/11.29.5"
}
```

3. æµ‹è¯• `CSV` æ˜ å°„æ•°æ®æ–‡ä»¶ `DataDrivenInput.csv`ï¼š

```markdown
"queryParam","queryParamVal"
"test","true"
"query","1"
```



å…·ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š

```powershell
> (pwd).Path
C:\Users\ad\Desktop
> mkdir MyReporter | Out-Null ; cd MyReporter; (pwd).Path
C:\Users\ad\Desktop\MyReporter
# å°†åˆšæ‰åˆ›å»ºçš„ä¸‰ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°å½“å‰æ–‡ä»¶å¤¹
> cp ~/Desktop/DataDrivenInput.csv .
> cp ~/Desktop/NewmanTestEnvironment.json .
> cp ~/Desktop/TestCollection.json .
# åˆå§‹åŒ– Node.js é¡¹ç›®
# é™¤äº†é¡¹ç›®åç§°ï¼ˆnameï¼‰æ‰‹åŠ¨æŒ‡å®šä¸ºå›ºå®šå†™æ³• newman-reporter-myreporter å¤–ï¼Œ
# å…¶ä½™å…¨éƒ¨ä¸ºé»˜è®¤é…ç½®
> npm init
> cat package.json
{
  "name": "newman-reporter-myreporter",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "",
  "license": "ISC"
}
# åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶æ¨¡å—
> echo '' > index.js
```

ç„¶ååœ¨ `index.js` ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š

```js
function MyCustomNewmanReporter (newman, reporterOptions, collectionRunOptions) {  
    newman.on('start', function (err) {
        if (err) { return; }
        console.log('Collection run starting')
    });
    newman.on('item', function (err, args) {
        console.log('Ran: ' + args.item.name)
    });
    newman.on('done', function () {
        console.log('all done!')
    });
}
module.exports = MyCustomNewmanReporter
```

ç„¶åæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼Œå®Œæˆæ¨¡å—æ‰“åŒ…ã€å®‰è£…ï¼š

```powershell
# æ¨¡å—æ‰“åŒ…
> npm pack
npm notice
npm notice package: newman-reporter-myreporter@1.0.0
npm notice === Tarball Contents ===
npm notice 427B index.js
npm notice 222B package.json
npm notice === Tarball Details ===
npm notice name:          newman-reporter-myreporter
npm notice version:       1.0.0
npm notice filename:      newman-reporter-myreporter-1.0.0.tgz
npm notice package size:  450 B
npm notice unpacked size: 649 B
npm notice shasum:        0b040c11ff844bbaccf6c441731af21f5f9282d4
npm notice integrity:     sha512-9XsT+8GA0y2kq[...]Mehie7GSlW7uQ==
npm notice total files:   2
npm notice
newman-reporter-myreporter-1.0.0.tgz
# å…¨å±€å®‰è£…è‡ªå®šä¹‰æŠ¥è¡¨æ¨¡å—
> npm i -g newman-reporter-myreporter-1.0.0.tgz

added 1 package in 478ms
> 
```

ç„¶åï¼Œåœ¨ `package.json` ä¸­çš„ `test` è„šæœ¬æ”¹ä¸ºè¦æ‰§è¡Œçš„é›†åˆæµ‹è¯•å‘½ä»¤ï¼ˆç¬¬ 7 è¡Œï¼‰ï¼š

```json
{
  "name": "newman-reporter-myreporter",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "newman run TestCollection.json -e NewmanTestEnvironment.json -d DataDrivenInput.csv -r myreporter"
  },
  "author": "",
  "license": "ISC"
}
```

æœ€åæ‰§è¡Œå‘½ä»¤ `npm run test` å¯åŠ¨æµ‹è¯•ã€‚å®æµ‹ç»“æœå¦‚ä¸‹ï¼š

![](assets/9.4.png)

**å›¾ 9.4 è‡ªå®šä¹‰æŠ¥è¡¨æ’ä»¶ myreporter çš„å®æµ‹è¿è¡Œç»“æœ**



## 9.4 Newman ä¸ CI/CD å·¥ä½œæµçš„é›†æˆ

æœ¬ç« çš„æœ€åï¼Œä½œè€…è¿˜ç•™äº†ä¸€ä¸ªå½©è›‹ï¼Œæ¼”ç¤ºäº† `Newman` é›†æˆåˆ° `GitHub Actions` çš„å…·ä½“æ“ä½œã€‚

ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œç¤ºä¾‹é›†åˆ `Newman Test` æ”¹ä¸ºåªåŒ…å«ä¸€ä¸ªå˜é‡ `base_url`ï¼Œå¹¶ç”±ç¤ºä¾‹ç¯å¢ƒ `Newman Test Env` æä¾›å˜é‡å€¼ï¼š`https://postman-echo.com`ï¼š

![](assets/9.5.png)

![](assets/9.6.png)

ç„¶ååˆ†åˆ«å¯¼å‡º `JSON` æ–‡ä»¶ `TestCollection.json` å’Œ `NewmanTestEnvironment.json` å¤‡ç”¨ã€‚

æ¥ç€ï¼Œåœ¨ `GitHub` ä¸Šæ–°å»ºä¸€ä¸ªä»£ç ä»“åº“ `postman-testing`ï¼Œæ‰“å¼€çº¿ä¸Šçš„ `Codespaces` ä¸Šä¼ è¿™ä¸¤ä¸ª `JSON` æ–‡ä»¶ï¼š

![](assets/9.7.png)

**å›¾ 9.5 åœ¨ GitHub çš„ Codespaces ç©ºé—´ä¸Šä¼ ä» Postman å¯¼å‡ºçš„é›†åˆä¸ç¯å¢ƒ JSON æ–‡ä»¶**

å†æ–°å»ºä¸€ä¸ª `GitHub Actions` é…ç½®æ–‡ä»¶ `.github/workflows/CI.yaml`ï¼ˆæ–‡ä»¶åè‡ªæ‹Ÿï¼‰ï¼š

![](assets/9.8.png)

é…ç½®æ–‡ä»¶ `CI.yaml` å†…å®¹å¦‚ä¸‹ï¼š

```yaml
name: Run Newman Tests

on:
  workflow_dispatch:

jobs:
  run-tests:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3.3.0

      - name: Install Node
        uses: actions/setup-node@v3

      - name: Install newman
        run: npm install newman

      - name: Run tests
        run: newman run TestCollection.json -e NewmanTestEnvironment.json
```

æäº¤æ‰€æœ‰å˜æ›´åï¼Œå°±å¯ä»¥è¿›å…¥è¯¥ä»“åº“çš„ `Actions` ä¸»é¡µï¼Œæ‰¾åˆ°åˆšå®šä¹‰çš„å·¥ä½œæµåç§° `Run Newman Tests`ï¼Œæ‰‹åŠ¨è¿è¡Œè¯¥å·¥ä½œæµï¼š

![](assets/9.9.png)

å·¥ä½œæµå¯åŠ¨åï¼Œçª—å£éšå³æ˜¾ç¤ºå½“å‰è¿è¡ŒçŠ¶æ€ï¼š

![](assets/9.10.png)

ç¨ç­‰ç‰‡åˆ»åï¼Œå·¥ä½œæµæ‰§è¡Œå®Œæ¯•ï¼š

![](assets/9.11.png)

ç‚¹å‡»æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ…ï¼Œæ­¤æ—¶å¯å¯¹ç…§å³è¾¹çš„èŠ‚ç‚¹æŸ¥çœ‹æ¯ä¸ªæ“ä½œæ­¥éª¤çš„è¿è¡Œè¯¦æƒ…ï¼š

![](assets/9.12.png)



### é›†æˆ GitHub Actions æ³¨æ„äº‹é¡¹

- å®‰è£… `newman` å‰å…ˆå®‰è£… `Node` ç¯å¢ƒï¼›
- å®‰è£… `Node` ç¯å¢ƒå‰å…ˆè¦ç­¾å‡ºï¼ˆcheck outï¼‰å½“å‰æºä»£ç åˆ° `Codespaces` ç©ºé—´ï¼›
- æ³¨æ„æ¯æ­¥ï¼ˆstepï¼‰çš„å‘½ä»¤å†™æ³•ï¼Œå…ˆåé¡ºåºä¸èƒ½ä¹±ï¼›
- åæœŸå¯æ ¹æ®éœ€è¦å¯¹å·¥ä½œæµè¿›è¡Œæ‰©å±•ï¼›
- æ¼”ç¤ºä½¿ç”¨çš„è§¦å‘å™¨ä¸º `workflow_dispatch` æ‰‹åŠ¨è§¦å‘ï¼Œå®é™…å·¥ä½œä¸­è¿˜å¯ä»¥æ˜¯ `push`ã€`pull_request` ç­‰ï¼›
- è¿è¡Œå·¥ä½œæµå‰åŠ¡å¿…å…ˆæäº¤æ‰€æœ‰ä»£ç ï¼›
- `Codespaces` ç”¨å®Œååº”åŠæ—¶å…³é—­ã€‚



---

[^1]: åœ¨ `PowerShell` ç¯å¢ƒä¸‹ï¼Œç”¨ `-r` å‚æ•°æŒ‡å®šæŠ¥è¡¨ç±»å‹éœ€è¦åŠ å¼•å·ï¼Œå¦åˆ™å‘½ä»¤è¡Œä¸èƒ½æ­£å¸¸è§£æã€‚



